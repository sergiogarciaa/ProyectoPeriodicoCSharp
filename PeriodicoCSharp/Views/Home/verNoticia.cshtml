@{
    ViewData["Title"] = "Ver Noticia";
    var error = ViewData["error"] as string;
}
<div class="container pt-5">
    <h3 class="text-center">@Model.TituloNoticia</h3>
    @if (ViewBag.Noticia.ImagenNoticia != null)
    {
        <div class="d-flex justify-content-center">
        <img src="data:image/jpeg;base64,@Convert.ToBase64String(ViewBag.Noticia.ImagenNoticia)" alt="Imagen de usuario" style="max-width: 300px; max-height: 300px;">
        </div>
    }
    <p class="pt-3" style="word-break: break-all;">
        @Model.DescNoticia - Lorem ipsum dolor sit amet consectetur adipiscing, elit magna tellus hendrerit sociosqu nec, odio ut posuere placerat potenti. Pharetra quisque parturient ligula mollis, vestibulum eu mus facilisis quam, nullam netus rutrum. Facilisi laoreet senectus cursus vitae congue lectus porta nec in nisi sociosqu, blandit urna placerat dui etiam lacus non fringilla mus erat duis, conubia dictum potenti sed aliquam ultricies taciti phasellus risus vulputate.
        Consequat pretium natoque phasellus curabitur sagittis primis molestie habitasse purus habitant, cubilia magna eleifend venenatis torquent pharetra sapien mollis iaculis. Velit quam cum facilisi dignissim accumsan commodo lobortis ornare, netus justo placerat mattis lacinia faucibus fermentum imperdiet, himenaeos cursus curabitur conubia mi vivamus sem. Dictum habitant ad iaculis pretium feugiat, fusce integer rhoncus tellus velit justo, a viverra vitae habitasse. Lorem ipsum dolor sit amet consectetur adipiscing, elit magna tellus hendrerit sociosqu nec, odio ut posuere placerat potenti. Pharetra quisque parturient ligula mollis, vestibulum eu mus facilisis quam, nullam netus rutrum. Facilisi laoreet senectus cursus vitae congue lectus porta nec in nisi sociosqu, blandit urna placerat dui etiam lacus non fringilla mus erat duis, conubia dictum potenti sed aliquam ultricies taciti phasellus risus vulputate.
        Consequat pretium natoque phasellus curabitur sagittis primis molestie habitasse purus habitant, cubilia magna eleifend venenatis torquent pharetra sapien mollis iaculis. Velit quam cum facilisi dignissim accumsan commodo lobortis ornare, netus justo placerat mattis lacinia faucibus fermentum imperdiet, himenaeos cursus curabitur conubia mi vivamus sem. Dictum habitant ad iaculis pretium feugiat, fusce integer rhoncus tellus velit justo, a viverra vitae habitasse. Lorem ipsum dolor sit amet consectetur adipiscing, elit magna tellus hendrerit sociosqu nec, odio ut posuere placerat potenti. Pharetra quisque parturient ligula mollis, vestibulum eu mus facilisis quam, nullam netus rutrum. Facilisi laoreet senectus cursus vitae congue lectus porta nec in nisi sociosqu, blandit urna placerat dui etiam lacus non fringilla mus erat duis, conubia dictum potenti sed aliquam ultricies taciti phasellus risus vulputate.
        Consequat pretium natoque phasellus curabitur sagittis primis molestie habitasse purus habitant, cubilia magna eleifend venenatis torquent pharetra sapien mollis iaculis. Velit quam cum facilisi dignissim accumsan commodo lobortis ornare, netus justo placerat mattis lacinia faucibus fermentum imperdiet, himenaeos cursus curabitur conubia mi vivamus sem. Dictum habitant ad iaculis pretium feugiat, fusce integer rhoncus tellus velit justo, a viverra vitae habitasse.
    </p>
</div>

<div class="container">
    <p>Publicado el: <span>@Model.FchPublicacion</span></p>
</div>


<div class="d-flex justify-content-center" style="min-height: 300px;">
    <div class="container border-left border-right d-inline-flex" style="justify-content: space-between;">
        <div class="container pt-3">
            <!-- Formulario para agregar un nuevo comentario -->
            <form id="formulario-comentario" method="post" asp-action="AgregarComentario" asp-controller="Comentario" asp-route-idNoticia="@Model.IdNoticia" class="d-flex pt-3 pb-2">
                <textarea name="DescComentario" rows="2" cols="50" required></textarea>
                <button type="submit">Enviar Comentario</button>
            </form>
        </div>

        @if (ViewBag.Comentarios != null)
        {
            <div style="max-height: 250px; overflow-y: auto; margin-right: 5%;">
                <div class="d-flex justify-content-center py-2">
                    <div class="second py-2 px-2">
                        @foreach (var comentario in ViewBag.Comentarios)
                        {
                            <span class="text1" style="word-wrap: break-word;">
                                <li>@comentario.DescComentario - @comentario.FchPublicacionComentario</li>
                            </span>
                            <div class="d-flex justify-content-between py-1 pt-2">
                                <div>
                                    <img src="https://i.imgur.com/AgAC1Is.jpg" width="18">
                                </div>
                            </div>
                        }
                    </div>
                </div>
            </div>
        }
        else
        {
        <p>No hay comentarios para esta noticia.</p>
        }
    </div>
</div>
@if (!string.IsNullOrEmpty(error))
{
    <script>
        mostrarNotificacion("¡Error!", "Ocurrio un error no esperado, intentelo de nuevo", 'error');
    </script>
}


