@{
    ViewData["Title"] = "solicitarRecuperacionPassword";
    var mensajeErrorEmail = ViewData["MensajeErrorMail"] as string;
    var contraseñaModificadaError = ViewData["ContraseñaModificadaError"] as string;
    var mensajeErrorTokenValidez = ViewData["MensajeErrorTokenValidez"] as string;
    var mensajeErrorTokenExpirado = ViewData["MensajeErrorTokenExpirado"] as string;
    var error = ViewData["error"] as string;
}

@model PeriodicoCSharp.DTO.UsuarioDTO

<div class="container py-4">
    <div class="logoLogin">
        <img src="https://www.freepnglogos.com/uploads/logo-nu-png/nu-logo-hd-free-nahdlatul-ulama-emblem-download-1.png"
             alt="">
    </div>
    <div class="cardPrincipal">
        <form class="custom-form" asp-action="ProcesarRecuperarPass" method="post">
            <h2 class="text-center mb-5"><i class="bi bi-arrow-counterclockwise" style="color: #1f3c85;"> Solicitar recuperación de contraseña</i></h2>
            <div class="mb-5 mt-5">
                <label for="email" class="form-label textoPrincipal">Correo electrónico</label>
                <input type="email" class="input" name="EmailUsuario" class="form-control" id="email" placeholder="Introduzca su correo electrónico" required autofocus />
            </div>
            <div class="text-right">
                <button type="submit" class="btn mt-3">Solicitar</button>
            </div>
            <div class="text-center fs-6">
                <a>Le enviaremos un email con un enlace para modificar su contraseña.</a>
            </div>
        </form>
    </div>
    @if (!string.IsNullOrEmpty(contraseñaModificadaError))
    {
        <script>
            mostrarNotificacion("¡Error!", "Ha ocurrido un error al restablecer la contraseña", 'error');
        </script>
    }
    @if (!string.IsNullOrEmpty(mensajeErrorEmail))
    {
        <script>
            mostrarNotificacion("¡Cuenta de correo electrónico no encontrada!", "Se ha producido un error en el proceso de recuperación, por favor revise la información ingresada.", 'error');
        </script>
    }
    @if (!string.IsNullOrEmpty(mensajeErrorTokenValidez))
    {
        <script>
            mostrarNotificacion("¡El enlace no es válido!", "Si necesita restablecer su contraseña, inicie el proceso de recuperación de nuevo", 'error');
        </script>
    }
    @if (!string.IsNullOrEmpty(mensajeErrorTokenExpirado))
    {
        <script>
            mostrarNotificacion("¡El enlace ha caducado!", "Por favor, vuelva a iniciar el proceso de solicitar la recuperación de contraseña", 'error');
        </script>
    }
    @if (!string.IsNullOrEmpty(error))
    {
        <script>
            mostrarNotificacion("¡Error!", "Ocurrió un error no esperado, inténtelo de nuevo", 'error');
        </script>
    }
</div>
